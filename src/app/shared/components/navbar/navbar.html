<nav [class]="'sticky-top z-50 border-bottom ' + (transparent ? 'bg-white-95' : 'bg-white')">
  <div class="container-fluid px-3 px-md-4">
    <div class="d-flex justify-content-between align-items-center" style="height: 4rem">
      <!-- Logo -->
      <a routerLink="/" class="d-flex align-items-center gap-2 text-decoration-none">
        <div
          class="logo-container bg-primary-green rounded d-flex align-items-center justify-content-center"
        >
          <lucide-icon [name]="Leaf" [size]="24" class="text-white"></lucide-icon>
        </div>
        <span class="text-dark fw-semibold">RecycleHub</span>
      </a>

      <!-- Navigation Links -->
      <div class="d-none d-md-flex align-items-center gap-4">
        <a routerLink="/" class="nav-link text-dark text-decoration-none hover-primary-green">Home</a>
        <a (click)="scrollToSection('how-it-works')" class="nav-link text-dark text-decoration-none hover-primary-green" style="cursor: pointer;">How It Works</a>
        <a (click)="scrollToSection('materials')" class="nav-link text-dark text-decoration-none hover-primary-green" style="cursor: pointer;">Materials</a>
        <a (click)="scrollToSection('faq')" class="nav-link text-dark text-decoration-none hover-primary-green" style="cursor: pointer;">FAQ</a>
        <a (click)="scrollToSection('contact')" class="nav-link text-dark text-decoration-none hover-primary-green" style="cursor: pointer;">Contact</a>
      </div>

      <!-- Right side actions -->
      <div class="d-flex align-items-center gap-3">
        @if (isAuthenticated == false) {
          <!-- Unauthenticated State -->
          <div class="d-none d-md-flex align-items-center gap-3">
            <button mat-button (click)="navigateTo('/login')">Login</button>
            <button class="btn-primary register-button" (click)="navigateTo('/register')">
              Get Started
            </button>
          </div>
        } @else {
          <!-- Authenticated State -->

          <!-- Notification Bell -->
          <div class="notification-bell-wrapper position-relative">
            <button
              mat-icon-button
              class="notification-bell-btn position-relative"
              (click)="toggleNotificationDropdown()"
              [class.active]="isNotificationDropdownOpen"
            >
              <lucide-icon [name]="Bell" [size]="20"></lucide-icon>

              <!-- Unread badge -->
              <span
                *ngIf="unreadCount > 0"
                class="notification-badge position-absolute top-0 end-0 badge bg-danger text-white rounded-circle d-flex align-items-center justify-content-center"
              >
                {{ unreadCount > 99 ? '99+' : unreadCount }}
              </span>
            </button>

            <!-- Notification Dropdown -->
            <app-notification-dropdown
              *ngIf="isNotificationDropdownOpen"
              (close)="closeNotificationDropdown()"
              class="notification-dropdown-container"
            ></app-notification-dropdown>
          </div>

          <!-- Logout Button -->
          <button mat-menu-item (click)="logout()" class="logout-btn">
            <lucide-icon [name]="LogOut" [size]="16" class="me-2"></lucide-icon>
            Logout
          </button>

        }
      </div>
    </div>
  </div>
</nav>
